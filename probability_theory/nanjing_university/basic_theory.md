[TOC]

# 概率论的基本概念

## 随机事件与样本空间

### 基本历史

- 概率论起源于17世纪

- 1654年，Pascal和Fermat对”分赌本“问题的讨论

- 使概率论成为数学的一个分支的奠基人是瑞士数学家--伯努利

- 概率论的飞速发展是在17世纪微积分学说建立以后

### 研究对象

- 事件发生的现象可分为确定性现象和不确定现象，而《概率论与数理统计》是研究统随机现象的统计规律性的一门数学学科。例如：抛硬币、测量物理量(如长度、时间)的误差、某批产品的使用寿命

### 随机试验

#### 随机试验发生的条件

- 可以在相同的条件下重复进行

- 试验的全部结果(不止一个)之前是知道

- 不能预测试验出现的结果

#### 事件

> 随机试验中各种可能出现结果成为事件，通常用A,B,C等来表示
> 必然事件: 在随机试验中必然发生的事件，用 $\Omega$ 表示
> 不可能事件: 在随机试验中不可能发生的事件，用 $\emptyset$ 表示
> 基本事件: 不能再进行划分的最小事件，基本事件可能由于研究的目的和方法不同会有差异
> 复合事件:

#### 样本空间

由所有的随机试验的结果组成的集合，即由全体的基本事件所对应的元素，组成的集合称为样本空间。样本空间的中每一个元素实际上是每一个基本事件，称为样本点，每个样本点对应的是一个基本事件，通常情况用基本事件构成样本空间。

样本空间用 $\Omega$ 表示，是一个必然事件; 样本点用 $\omega$ 表示

ex1: 将一枚硬币连续抛两次，H: 正面; T: 反面那么 $\Omega = \{HH, HT, TH, TT\}$

ex2: 连续向一个目标射击，直到命中。 $\omega_i$ 表示前i-1次未命中，而第i 次命中，i=1,2,3,..., 那么 $\Omega = \{\omega_1, \omega_2, \omega_3, \ldots \}$

#### 集合论的方式表示随机事件

- 随机事件之间的关系和运算和集合论之间的关系和运算是一一对应的，这样就可以用集合论的方式来处理随机事件的关系和运算。虽然是按着集合论的方式去表达，但需要按着概率的方式去理解。

- ex1: 投掷一个骰子， $\Omega = \{1,2,3,4,5,6\}$. A事件表示奇数点, 那么A事件的样本点可以表示为A={1,3,5}; 同理 B: 偶数点 B={2,4,6}.  如果某个事件的其中一个样本点发生了，就说明这个事件发生了，这样就很好解释了事件和样本点之间的关系。

- ex2: 样本空间成为必然事件，即其中的一个样本点发生了，那么该事件就发生了。

- 用事件是否发生这样一种方式来表达和理解集合之间的符号。

- Venn图表示事件之间的关系

- > 包含关系(包含事件):  $A \subset B$
  > 
  > 和关系(和事件): $A \bigcup B = C$  或者 $\overbrace{\bigcup_{k=1}}^n A_k$
  > 交关系(积事件): $A \bigcap B = AB $ 或者 $\overbrace{\bigcap_{k=1}}^n A_k$
  > $A_1, A_2, \ldots A_n$ 称为完备事件组: 满足条件
  > 
  > $\left\{
  > \begin{array}{lr}
  >   A_1 \bigcup A_2 \bigcup \ldots \bigcup A_n = \Omega\\
  >   A_i \bigcap A_j = \emptyset & i \neq j
  > \end{array}
  > \right.$
  > 
  > 对立事件: $AB = \emptyset$  且 $A \bigcup B = \Omega$， 那么A，B称为对立事件
  > 差关系:  

- 运算规律: 交换律、结合律、分配律、对偶法则

## 概率的概念和性质

### 概念

- 概率分为主观概率和客观概率

- 陈希孺《概率论与数理统计》

- 1933年，科尔莫哥洛夫，做了系统的整理工作，提出了概率的公理化定义，用几条很少的公理，就建立起来了宏大的概率论的学科。概率的公理化定义主要有以下三条, 对于事件 A

- > (1) 非负性公理: 任何一个事件发生的概率一定是非负的. 即 $0 \leq P(A) \leq 1$
  > 
  > (2) 正则性公理: $p(\Omega) = 1$
  > 
  > (3) 互不相容的事件 $A_1, A_2, A_3, \ldots$ 满足 $P(\bigcup A_j) = \sum A_j$

- <font color=red> 注意: 概率为0的事件是不可能发生的，这种论述是错误的。</font>原因：不可能事件的概率一定为0，但概率为0的事件并不一定是不可能事件；必然事件的概率一定为1，但概率为1的事件并不一定是必然事件。但对于古典型来说概率为0的事件一定是不可能发生的；概率为1的事件一定是必然事件。 

- > (1) 对于连续型随机变量X服从[0,1]上的均匀分布,那么X取每个值的概率都为0,但是并非不可能
  > 
  > (2) 圆上任意取三点构成锐角三角形、钝角三角形、直角三角形的概率分别为1/4,3/4,0. 因为圆上任意三角形能够构成直角三角形，这事件明明会发生，也就是这是可能事件，这就是说可能事件的概率为0，概率为0的事件也是可以发生的。因为概率只反映了一件事情发生的可能性大小，概率为0的事件并不意味着不发生；同样概率为1的事件也不意味着一定发生。
  > 
  > (3) 还比如一个点在圆内及其边界移动，但落在边界和圆内某一点的概率为0，但这样的事件是可能发生的; 落在圆内的概率为1，但这样的时间不一定会发生。
  > 
  > (4) 从山顶悬挂一条线到山下，它刚好穿过山下某个针的针眼是有可能发生的，但这个事件发生的概率为0 

### 性质

- $P(\emptyset) = 0$

- 若 $A_1, A_2, \ldots, A_n$ 互不相容， 则 $P( \bigcup_{k=1}^n A_k) = \sum_{k=1}^n A_k$

- 对于任意事件 A, $P(A) + P(\overline{A}) = 1$

- 对于事件A， B $A \subset B$ 则 $P(A) \leq P(B); P(B-A) =  P(B) - P(A)$

- 对于任意两个事件A，B，$P(A \bigcup B) = P(A) + P(B) - P(AB)$

## 古典概型

### 要求

- 设E是一个实验，满足(1) 只有有限多个样本点  (2) 每个样本点发生的可能性相同(等可能事件)

### 排列、组合

- 加法原理

- 乘法原理

- 通过加法和乘法原理实现古典概型的计算

- 公式

$C_n^m = \frac {A_n^m} {m!} = \frac {n!} {m! (n-m)!}$

$C_n^m = C_n^{n-m}$

$C_n^m + C_n^{m-1} = C_{n+1}^m$

$C_n^0 + C_n^1 + C_n^2 + \ldots + C_n^n = 2^n$ 左边可以看成是$(1+1)^n$ 的牛顿二次展开

### 计算古典概型

#### 步骤

- 找出的样本空间，保证样本点的等可能性。不同的解法思路会导致样本空间不一样，比如，用排列的方式考虑了顺序问题；用组合的方式不考虑顺序问题

- 模型化：提炼出公共的、通用的模型

#### ex1

- 盒子中有10个球，分别编号为1，2，3，... ， 10，从中任取3个，求P(A)，A表示三个球中第二大的号码为4.

- > （1）求出样本空间，并且样本点的等可能性。即 $C_{10}^3$
  > 
  > （2）抽出最小号码为 $C_3^1$
  > 
  > （3）第二大号码为4，即$C_1^1$
  > 
  > （4）第三个球为$C_6^1$
  > 
  > （5）$P(A) = \frac {C_3^1 C_1^1 C_6^1} {C_{10}^3}$_

#### ex 2

- 袋子中有a只黑球，b只白球，现一个一个取出，不放回抽样，求第k次取到的是黑球的概率 $1 \leq k \leq a+b$ 
- 解法1：排列方式
- > （1）对a+b个球进行编号，那么排列的方式有 (a+b)!，这部分就是样本空间
  > 
  > （2）有利场合: 第k个球是黑球的逻辑是，从a个黑球中拿出来一个黑球的方法有a种，将其放到第k个位置；然后剩下的(a+b-1)个球进行全排列。
  > 
  > （3）$P = \frac {a (a+b-1)!} {(a+b)!} = \frac {a} {a+b}$
- 解法2：组合方式
- > （1）a+b个球没有顺序，那么我们对[1, a+b]个位置选出来a个位置放黑球，此部分就是样本空间 $C_{a+b}^a$
  > 
  > （2）有利场合:  第k位置放置黑球，剩下的a-1个位置放剩下的黑球，因此$C_{a+b-1} ^{a-1}$
  > 
  > （3）$P= \frac {C_{a+b-1}^{a-1}} {C_{a+b}^a} = \frac {a} {a+b}$

#### ex 3

- 设有n个球，每个球都可以以同样的概率 1/N 落到N个格子(N >= n)中的每个格子，求（1）某指定的n 个格子中各有一个球的概率P(A) （2）任何n 个格子各有一个球的概率P(B)
- > （1）样本空间 $N^n$
  > 
  > （2）n个格子各有一个球的相当于组合 n!, 因此 $P(A) = \frac {n!} {N^n}$
  > 
  > （3）任何n个格子，因此首先从N个格子选择出n个格子，然后再做全排列 $P(B) = \frac {C_N^n n!} {N^n}$

### 几何概型

- 古典概型的延展,使用测度的概念解决几何概型等可能事件概率的计算

- 长度、面积、体积和古典概型共性的东西是，这种也是等可能事件。这是有限样本空间的古典概型的推广，推广到无限样本空间。

- ex 会面问题: 两个人相约在5-6点在某地会面，先到者等待另外一个人20分钟，过时即可离去，求这两个人见面的概率。
  
  > 另x,y 分别表示两个人到达的时刻，满足见面的条件是 $|x-y| \leq 20$
  > 
  > $P = \frac {|x-y| \leq 20 的面积} {60^2}$

## 条件概率、乘法公式、全概率公式、贝叶斯公式

### 条件概率

- 引例
  
  > (1)连续生三个小孩，A事件表示三个都是女孩，那么P(A) = 1/8.
  > 
  > 分析：男: $\bigotimes$  女：$\bigoplus $ 那么样本空间为 $\Omega = \{\bigotimes\bigotimes\bigotimes, \bigotimes\bigotimes\nabla,\bigotimes\nabla\bigotimes,\nabla\bigotimes\bigotimes,\bigotimes\nabla\nabla,\nabla\bigotimes\nabla,\nabla\nabla\bigotimes,\nabla\nabla\nabla\}$
  > 
  > (2) 若已知B事件表示三个孩子中有一个是女孩，那么P(A|B) = 1/7
  > 
  > 样本空间为 $\Omega = \{\bigotimes\bigotimes\nabla,\bigotimes\nabla\bigotimes,\nabla\bigotimes\bigotimes,\bigotimes\nabla\nabla,\nabla\bigotimes\nabla,\nabla\nabla\bigotimes,\nabla\nabla\nabla\}$

- 定义
  
  > 假设有两个事件A，B，$P(B) \neq 0$ , 在给定B发生的条件下A发生的概率$P(A|B) = \frac {P(AB)} {P(B)}$
  
  - 使用古典概型定义(条件概率在本质上和古典概型是一致的)
    
    > 实验有N个结果(等可能是的)，其中A事件有M1 个，B事件有M2个， AB同时发生的有M12个，那么若B发生，那么现在新的样本空间为$\Omega = M2$ ，那么 $P= \frac {\frac {M12} {N}} {\frac {M2} {N}} (此部分为古典概型，样本空间仍然为N) = \frac {M12} {M2} (此部分为条件概率，样本空间变为M2)= \frac {P(AB)} {P(B)}$
  
  - 在几何概型中
    
    > 以$m(A), m(B), m(AB), m(\Omega) $ 表示 $A,B,AB,\Omega $ 所对应的点的测度，且 $P(B) \gt 0 $ 则 $P(A|B) = \frac {AB} {B} = \frac {\frac {m(AB)} {m(\Omega)}} {\frac {m(B)} {m(\Omega)}} = \frac {m(AB)} {m(B)}$

- 性质

- 例子
  
  > 令盒子中有1-10个编号的小球，从中抽取两次，一次一个球(有放回)，X1表示第一个号码，X2表示第二个号码，令A事件X1=4，B事件为X1+X2 = 7，求P(A|B) 和P(B|A)
  > 
  > 解：$P(A|B) = \frac {P(AB)} {P(B)} = \frac {P(X_1=4,X_1 + X_2 = 7)} {P(X_1+X_2=7)} = \frac {P(X_1=3,X_2=4)} {P(X_1+X_2=7)} = \frac {\frac {1} {100}} {\frac {6} {100}} = \frac {1} {6}$
  > 
  > $P(B|A) = \frac {P(AB)} {P(A)} = \frac {X_1=4,X_1+X_2=7} {X_1=4} = \frac {\frac {1} {100}} {\frac {1} {10}} = \frac {1} {10}$

### 乘法公式

- 公式
  
  > $P(B) > 0, P(A|B) = \frac {P(AB)} {P(B)}$ 
  > 
  > ==> $P(AB) = P(B) P(A|B)$
  > 
  > 令A，B，C是实验E的三个事件，且P(ABC) > 0,那么
  > 
  > $P(ABC) = P(A) \frac {P(AB)} {P(A)} \frac {P(ABC)} {P(AB)} = P(A)P(B|A)P(C|AB)$

- ex
  
  > 对某产品进行三次破坏性实验，产品没有通过第一种实验的概率为0.3；产品通过第一种实验，但是没有通过第二种实验的概率为0.2；产品通过第一二两种实验，但是没有通过第三种实验的概率为0.1，事件A表示没有通过三种实验，求P(A)
  > 
  > 分析: $A=  A_1 \bigcup A_2 \bigcup A_3$ <=> $\overline A = \overline A_1 \overline A_2 \overline A_3$
  > 
  > $P(A) = 1 - P(\overline A) = 1 - P(\overline A_1 \overline A_2 \overline A_3) = 1- P(\overline A_1) P(\overline A_2 |\overline A_1) P(\overline A_3| \overline A_1 \overline A_2) = 1 - 0.7 * 0.8 * 0.9$

### 全概率公式

- 引例: 将一个事件分解要成若干个互不相容的事件，即将一个复杂的概率分解成互不相容的若干个简单概率
  
  > 甲盒中有1-15编号的卡片，乙盒中有1-10编号的卡片，从甲乙两个盒中任意抽取一个盒子，然后在从中抽取一张卡片，求抽取的卡片是偶数的概率
  > 
  > 分析: A: 抽取到的是偶数的卡片；B1：抽到的是甲盒； B2： 抽到的是乙盒，
  > 
  > 那么 $\Omega = B_1 \bigcup B_2, B_1 \bigcap B_2 = \emptyset$
  > 
  > $A = AB_1 \bigcup AB_2$
  > 
  > $P(A) = P(AB_1 \bigcup AB_2) = P(AB_1) + P(AB_2) = P(B_1)P(A|B_1) + P(B_2)P(A|B_2) = 0.5 * 7/15 + 0.5 * 5/10$

- 定义
  
  > $B_1,B_2,\ldots, B_n$,   是一个样本空间完备事件组，并且 $(B_1\bigcup B_2,\dots,\bigcup B_n = \Omega, i \neq j, P(B_i) > 0, i = 1,2,3,\ldots,n)$
  > 
  > 那么$P(A) = P(A \bigcap \Omega) = P(A \bigcap (B_1 \bigcup B_2,\bigcup \ldots,\bigcup B_n)) = P(AB_1 \bigcup AB_2 \bigcup \ldots \bigcup AB_n) = \sum_{i=1}^nP(AB_i) = \sum_{i=1}^n P(B_i) P(A|B_i)$

- ex 1
  
  > 一批零件分别从甲乙丙三个厂家运来的概率分别为0.5，0.25，0.25，发生次品的概率分别为2%，2%，4%，求所有产品的次品率是多少？
  > 
  > 分析：另B1 = {甲厂}，B2 = {乙厂}，B3 = {丙厂}，那么
  > 
  > $P(A) = P(AB_1) + P(AB_2) + P(AB_3) $
  > 
  > $= P(B_1)P(A|B_1) + B(B_2) P(A|B_2) + P(B_3)P(A|B_3) $
  > 
  > $= 0.5 * 0.02 + 0.25*0.02 + 0.25*0.04$

### 贝叶斯公式

- 定义
  
  > 全概率公式: $B_1,B_2,\ldots,B_n 是 \Omega 的一个划分，那么 P(A) = \sum_{i=1} ^n P(A|B_i) 。$B1-Bn可以看做n个导致A事件发生的原因
  > 
  > $P(B_j|A) = \frac {P(B_jA)} {P(A)} = \frac {P(B_j) P(A|B_j)} {P(A)} $
  > 
  > $= \frac {P(B_j) P(A|B_j)} {\sum_{i=1}^n P(A|B_j)}$ 分子是分母中的一项

- 思想
  
  > 先验概率 $P(B_j), j=1,2,\ldots,n$ 是诸多的原因，反应的是各种途径或者各种原因占到的各种可能性的大小，在生活中通常是一些经验的总结，信息的归纳等;
  > 
  > 后验概率$P(B_j|A)$表示做完实验后，事件A发生的各种可能的原因有一个从新的认识
  > 
  > 从结果探求各种可能的原因，他们各占的可能性有多大。比如一个次品发生了，那么这个次品分别在甲乙丙三个厂出来的可能性分别有多大

- ex
  
  > 用某检验方法诊断肺癌，A事件表示被检验者患有肺癌; B事件表示阳性，求P(A|B), 表示诊断为阳性，且患肺癌的概率有多大？
  > 
  > 已知P(A) = 0.0004, 表示人群中有0.0004患肺癌，是统计的结果
  > 
  > P(B|A)= 0.95, 表示，在患肺癌的人群中，诊断为阳性的概率为0.95
  > 
  > $P(\overline B| \overline A) = 0.90$， 表示在正常人中，诊断为阴性的概率为0.90
  > 
  > $P(A|B) = \frac {P(AB)} {P(B)}$
  > 
  > $=\frac {P(A) P(B|A)} {P(A)P(B|A) + P(\overline A) P(B| \overline A)} = \frac {0.0004 * 0.95} {0.0004*0.95 + 0.0096*0.1} = 0.0038$

- 统计、分析、推断的基础

## 独立性、系统的可靠性

### 独立性

- 定义
  
  > 设A，B是随机试验E的两个事件，若满足 P(AB)= P(A)P(B)，称A，B是相互独立的事件

- 性质
  
  > 若A，B事件独立，则 $\overline A 与 B, A 与 \overline B, \overline A 与 \overline B$ 都是独立的

- 相互独立、两两独立区别

## Monty Hall Problem

- 问题描述
  
  > 参赛者会看到三扇关闭的门，其中一扇后面有汽车，另外两扇门后有羊；当参赛者选定一个门后，但未开启它的时候，知道门后情形的节目主持人开起剩下两个门中的一个，漏出一只山羊；主持人会问参赛者会不会换另一个关上的门。求最终换和不换的情况下，赢得汽车最大的概率
  > 
  > 分析:（1）直觉。任打开一扇门，选中的概率为1/3，没选中的概率为2/3; 如果坚持不换，则一开始选中就中奖，概率为1/3；如果坚持换，则一开始没选中就中奖，概率为2/3
  > 
  > (2) 贝叶斯分析: 若选择换，那么
  > 
  > P(选中汽车的概率) = P(第一次选择山羊) P(第二次选择汽车| 第一次选山羊) + P(第一次选择汽车) P(第二次选择汽车|第一次选择汽车) = 2/3 *1 + 1/3 * 0 = 2/3
  > 
  > 如果选择不换，那么
  > 
  > P(选中汽车) = 2/3 * 0 + 1/3 * 1 = 1/3

## 随机测试

TODO

# 随机变量及其分布

## 随机变量的含义

- 随机事件是随着不同的机会而发生的结果, 随机变量随着机会的不同而不同；取值随机会而定，随机试验可能会发生各种各样的结果，某个结果可以对应某个值，比如可以用变量x来表示某随机试验发生的结果，这个x随着不同的结果而取不同的值。==> 这个x就是这个随机试验结果的函数，在试验之前x的取值是不同的，只有在试验发生之后，才能获得x的结果取值。

- 随机变量的定义域是基本事件的全体，值域是[0,1]

- 随机事件和随机变量的区别
  
  > 随机变量和确定性变量的区别：（1）确定性变量: 当条件给定或者自变量给定，这个函数取得的结果是确定的；（2）随机变量: 只有在试验结果发生后，结果才能确定
  > 
  > 概率论的中心内容：就是对随机变量的研究，因为对于某个随机试验，往往更关心的是某个特定的结果或者某个特定发生的问题，而这个就是对应我们随机变量取得某些值
  > 
  > 随机事件: 从静态或者点态的角度解决；随机变量是一个动态的角度，从整体上把握和讨论随机试验的所有结果。这就是好比常量和变量的区别。概率论从计算一个单个或者孤立的事件概念发展到一个更高的理论体系，基础就是对随机变量的讨论。在随机变量这个基本前提下对可能性展开完整性的讨论。

- ex
  
  > （1）投掷一枚硬币， Z=1 (正面)； Z = 0 (反面)
  > 
  > （2）检测m件产品，Z=0,1,2,3,...,m
  > 
  > （3）测量误差：$\varepsilon \in (-\infty, +\infty)$

- <font color=red> 对随机变量而言，不仅要关心取到哪些值，更要关心取到这些值得概率，那么随机变量取到的值及其发生的概率，就构成了随机变量的分布。</font>

### 离散型随机变量

#### 含义

- 随机变量取到的值是有限个，就是离散型；若取到的值是一个区间，就是连续型

- 可以通过表格或者直方图来描述离散型随机变量；不仅给定了随机变量的取值，也给出了发生的概率，即一个完整的分布列

- 设Z为离散型随机变量，$P(Z=a_i) = p_i, i=1,2,\ldots$

| Z   | a1  | a2  | ... | an  | ... |
| --- | --- | --- | --- | --- | --- |
| P   | p1  | p2  | ... | pn  | ... |

$(1) p_i > 0, i=1,2,...$

$(2) \sum p_i = 1$



- 随机变量可以分为离散型随机变量、连续型随机变量、既不是离散型也不是连续型随机变量



#### 伯努利模型

- 重复独立试验：（1）随机事件彼此相互独立 （2）事件发生的概率p不变

- 伯努利模型：随机事件只有两个结果. $P(A) = p, P(\overline A) = 1-p=q, p >0, q>0, p+q =1 $

- 两点分布(伯努利分布)

| Z   | 1   | 0     |
| --- | --- | ----- |
| P   | p   | q=1-p |

#### 二项分布(n重伯努利试验)

- 做n次试验，每次试验发生的概率为p，那么A出现k次的概率记为 B(k;n, p). $P(B_k) = C_n^k p^k (1-p)^{n-k}, k=1,2,...,n$

| Z   | 0             | 1                 | ... | k                 | ... | n            |
| --- | ------------- | ----------------- | --- | ----------------- | --- | ------------ |
| P   | $C_n^0p^0q^n$ | $C_n^1p^1q^{n-1}$ | ... | $C_n^kp^kq^{n-k}$ | ... | $C_n^np^nq0$ |

实质是满足二项展开: $1 = (p+q)^n = \sum_{k=1}^n C_n^kp^kq^{n-k}$



- 中心项: 使B(k;n,p)取最大值的项b(m;n,p)叫做中心项，m叫做最可能成功的次数











































### 连续型随机变量

# 二维随机变量及其分布

# 随机变量的数字特征

# 大数定律以中心极限定理

# 抽样分布理论

# 描述统计

# 参数估计

# 假设试验

# 方差分析

# 回归分析
